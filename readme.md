Этот проект предназначен для быстрого разворачивания клиента в облачной инфраструктуре


Шаги по поднятию

1. Регистрируем новую организацию в Кредитпро получаем ее id
2. Проставляем айдишник в .env для примера у нас 12


     MYSQL_HOST=db-12
     API_PROXY_BD_SERVER_PORT=3412
     BD_PROXY_ID=12

3. Создаем папку на сервере и там разворачиваем этот репозиторий
4. Вставляем туда .env с нашими конфигами
5. Запускаем скрипт создания базы данных

        npm run db:init

Примечание по миграциям TypeORM и MySQL:
- Для предотвращения ошибок вида "SAVEPOINT typeorm_1 does not exist" при выполнении DDL-миграций в MySQL, в шаблоне docker-compose для контейнера bd-proxy установлена переменная окружения:

        TYPEORM_MIGRATIONS_TRANSACTION_MODE=none

- Скрипт scripts/db-init.sh также принудительно запускает миграции с этим режимом. Это безопасно для большинства миграций, содержащих DDL, и необходимо из-за автоматических коммитов DDL в MySQL, которые сбрасывают savepoint'ы.
