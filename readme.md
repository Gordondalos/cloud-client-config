Этот проект предназначен для быстрого разворачивания клиента в облачной инфраструктуре


Шаги по поднятию (все автоматизировано смотри kreditpro-config-license/create_clent.md)

1. Регистрируем новую организацию в Кредитпро получаем ее id
2. Создаем папку на сервере и там разворачиваем этот репозиторий 
3. Генерируем  .env file 

        IMAGE_TAG=28.09.2025
        MYSQL_USER=
        MYSQL_PASSWORD=
        DATA_BASE=fnt
        MYSQL_PORT=3306
        API_PROXY_BD_SERVER_PORT=3412 # 12 тут номер айдишника
        MYSQL_HOST=db-12 # 12 тут номер айдишника


4. Вставляем туда .env с нашими конфигами
5. Запускаем скрипт создания базы данных

        npm run db:init

Далее берем лицензию и идем в контрол панель регистрировать юзера,
после регистрации пользователя заполняем его профайл и сохраняем



Примечание по миграциям TypeORM и MySQL:
- Для предотвращения ошибок вида "SAVEPOINT typeorm_1 does not exist" при выполнении DDL-миграций в MySQL, в шаблоне docker-compose для контейнера bd-proxy установлена переменная окружения:

        TYPEORM_MIGRATIONS_TRANSACTION_MODE=none

- Скрипт db-init.sh также принудительно запускает миграции с этим режимом. Это безопасно для большинства миграций, содержащих DDL, и необходимо из-за автоматических коммитов DDL в MySQL, которые сбрасывают savepoint'ы.
